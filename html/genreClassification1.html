<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genre Classification Result</title>
    <link rel="shortcut icon" type="image/x-icon" href="front-end/images/icon.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Days+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="front-end/CSS/genreclass2.css">
    <link rel="stylesheet" href="front-end/CSS/nav-bar.css">

    <style>
        body {
            overflow: hidden;
        }
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('front-end/images/artgenrepagebg.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            z-index: -1;
            opacity: 0.5;
        }
        .content-wrapper {
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
            margin-top: 20px;
        }

    </style>
</head>
<body>
    <div class="background"></div>
    {% include 'nav-bar.html' %}
    <h1>ClevArt</h1>
    <h5 class="subtitle1">An Art Classification System</h5>
    <h6 class="head1">Genre Classifier</h6>

    <div class="box">
        <span style="--i:1;"></span>
        <span style="--i:2;"></span>
        <span style="--i:3;"></span>
        <span style="--i:4;"></span>
        <span style="--i:5;"></span>
        <span style="--i:6;"></span>
    </div>

    <div class="content-wrapper">
        <div class="image-preview-box">
            <img id="preview" src="{{ uploaded_image_url }}" alt="Uploaded Image Preview" class="image-preview">
        </div>

        <div class="prediction-box2">
        <h2 style="font-family: 'Montserrat', sans-serif;">Prediction: </h2>
            {% if prediction %}
                <h3 style="font-family: 'Montserrat', sans-serif;">{{ prediction }}</h3>
            {% endif %}
    </div>

    <button class="styled-button2" onclick="window.location.href='/genreClassification.html'">Upload Another Image</button>

    <script>
        window.onload = function() {
            const storedImage = localStorage.getItem('uploadedImage');
            if (storedImage) {
                const preview = document.getElementById('preview');
                preview.src = storedImage;
            }
            adjustFontSize(); // Call function to adjust font size on page load
        };

        window.onresize = function() {
            adjustFontSize(); // Call function to adjust font size on window resize
        };


        document.addEventListener("DOMContentLoaded", function() {
    const predictionContainer = document.getElementById("prediction-container");
    const loadingAnimation = document.getElementById("loading-animation");

    // Check if prediction content is available (assuming 'prediction' variable indicates content availability)
    if (predictionContainer && loadingAnimation) {
        // Hide prediction content initially
        predictionContainer.style.display = "none";

        // Get reference to progress indicators
        const progressIndicators = document.querySelectorAll(".progress-indicator");

        // Animate progress indicators dynamically
        progressIndicators.forEach((indicator, index) => {
            setTimeout(() => {
                indicator.style.width = "100%";
            }, index * 500); // Adjust delay between each progress indicator (500ms in this example)
        });

        // Hide loading animation and display prediction content after all indicators are animated
        setTimeout(function() {
            loadingAnimation.style.display = "none";
            predictionContainer.style.display = "block";
        }, (progressIndicators.length + 1) * 500); // Total time for all indicators plus additional time

    }
});
    </script>

</body>
</html>
